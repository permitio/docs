---
title: "Prerequisites Setup"
description: "Prepare your environment for Permit Platform installation"
---

# Prerequisites Setup

Complete these requirements before running the Permit Platform installer.

## 1. Git Repository Setup

<div className="bg-yellow-50 border-l-4 border-yellow-400 p-4 my-4">
  <div className="flex">
    <div className="ml-3">
      <p className="text-sm text-yellow-700">
        <strong>Required:</strong> Permit Platform needs a Git repository to store and sync authorization policies.
      </p>
    </div>
  </div>
</div>

### Quick Setup

```bash
# 1. Create SSH key pair
ssh-keygen -t rsa -b 4096 -f permit-policy-key -N ""

# This creates two files:
# permit-policy-key      (private key - keep secure)
# permit-policy-key.pub  (public key - add to Git repository)

# 2. Set correct permissions
chmod 600 permit-policy-key
```

### Add Key to Your Git Platform

<Tabs defaultValue="github">
  <TabsList>
    <TabsTrigger value="github">GitHub</TabsTrigger>
    <TabsTrigger value="gitlab">GitLab</TabsTrigger>
    <TabsTrigger value="bitbucket">Bitbucket</TabsTrigger>
  </TabsList>
  
  <TabsContent value="github">
    1. Go to your repository → **Settings** → **Deploy keys**
    2. Click **"Add deploy key"**
    3. Copy contents of `permit-policy-key.pub` and paste it
    4. ✅ **CRITICAL**: Check **"Allow write access"**
    5. Click **"Add key"**
  </TabsContent>
  
  <TabsContent value="gitlab">
    1. Go to your project → **Settings** → **Repository** → **Deploy Keys**
    2. Click **"Add new key"**
    3. Paste contents of `permit-policy-key.pub`
    4. ✅ **CRITICAL**: Check **"Grant write permissions to this key"**
    5. Click **"Add key"**
  </TabsContent>
  
  <TabsContent value="bitbucket">
    1. Go to repository → **Settings** → **Access keys**
    2. Click **"Add key"**
    3. Paste contents of `permit-policy-key.pub`
    4. Click **"Add SSH key"**
  </TabsContent>
</Tabs>

### Test Git Access

```bash
# Test SSH connection (replace with your Git platform)
ssh -T git@github.com -i ./permit-policy-key

# Expected response:
# "Hi username/repository! You've successfully authenticated, but GitHub does not provide shell access."
```

### Prepare Installation Information

You'll need these during installation:
- **Repository SSH URL**: `git@github.com:yourorg/permit-policies.git`
- **Private key file**: `permit-policy-key` (in same directory as installer)

## 2. Server Requirements

### Sizing Guide

| Size | Use Case | Servers | CPU | RAM | Storage |
|------|----------|---------|-----|-----|---------|
| **Small** | Testing/Development | 1 | 4 cores | 8GB | 50GB |
| **Medium** | Production | 1-3 | 8 cores | 16GB | 100GB |
| **Large** | Enterprise | 3-5 | 16 cores | 32GB | 200GB |

### Operating System Support
- **Ubuntu**: 18.04, 20.04, 22.04 LTS
- **RHEL/CentOS**: 7.x, 8.x, 9.x
- **SUSE**: SLES 15+
- **Architecture**: x86_64 (AMD64)

### Network Requirements
- **Web Access**: Ports 80, 443
- **Multi-server**: Ports 6443 (k3s API), 10250 (kubelet)
- **Servers**: Must be on same network/VLAN and able to communicate
- **Internet**: Not required after download

## 3. Access Requirements

- **Root/sudo access** on all servers
- **SSH access** to servers for installation
- **Firewall rules** allowing required ports

## Common Setup Issues

### Git Access Problems

<div className="bg-red-50 border-l-4 border-red-400 p-4 my-4">
  <div className="flex">
    <div className="ml-3">
      <p className="text-sm text-red-700">
        <strong>❌ "Permission denied (publickey)"</strong>
      </p>
      <ul className="text-sm text-red-700 mt-2 list-disc list-inside">
        <li>Verify public key is added to repository</li>
        <li>Check private key permissions: <code>chmod 600 permit-policy-key</code></li>
        <li>Ensure repository URL uses SSH format: <code>git@github.com:...</code></li>
      </ul>
    </div>
  </div>
</div>

### Repository URL Format

```bash
# ✅ Correct formats:
GitHub:    git@github.com:yourorg/permit-policies.git
GitLab:    git@gitlab.com:yourorg/permit-policies.git
Custom:    git@git.yourcompany.com:policies/permit.git

# ❌ Incorrect formats:
https://github.com/yourorg/permit-policies.git  # HTTPS not supported
github.com:yourorg/permit-policies.git         # Missing git@ prefix
```

### Deploy Key Issues

<div className="bg-yellow-50 border-l-4 border-yellow-400 p-4 my-4">
  <div className="flex">
    <div className="ml-3">
      <p className="text-sm text-yellow-700">
        <strong>⚠️ "Deploy key already in use" (GitHub)</strong><br/>
        Each GitHub deploy key can only be used by one repository.
      </p>
      <p className="text-sm text-yellow-700 mt-2">
        <strong>Solution:</strong> Generate a new key pair:<br/>
        <code>ssh-keygen -t rsa -b 4096 -f permit-policy-key-new -N ""</code>
      </p>
    </div>
  </div>
</div>

## Verification Checklist

Before proceeding to installation, verify:

- [ ] Git repository created and accessible
- [ ] SSH key pair generated (`permit-policy-key` and `permit-policy-key.pub`)
- [ ] Public key added to repository with **write access**
- [ ] Git access tested successfully
- [ ] Server meets minimum requirements
- [ ] Root/sudo access available
- [ ] Required ports available

---

**Prerequisites complete?** Continue to [Installation Guide](/docs/on-prem/installation) →