---
sidebar_position: 3
title: Check in Any Tenant
---


To validate permissions irrespective of the tenant, you can use the `permit.anyTenantCheck` function.
This function determines if a user has permissions for a specified action on a resource across any tenant.

## Simple Usage

The `permit.anyTenantCheck` function accepts an [individual check requests](./check) as input.
The tenant key isn't required and will be ignored if provided:
```js
const allowedTenants = await permit.anyTenantCheck("john@permit.io", "create", "document");
if (allowedTenants.length > 0) {
	console.log("John is PERMITTED to create a document in some tenant in the environment");
} else {
	console.log("John is NOT PERMITTED to create a document in any tenant in the environment");
}
```

The result will be an array containing the details about the request for each allowed tenant,
including the allowed tenant's attributes

## Enforce with attributes

```js
const allowedTenants = await permit.anyTenantCheck(
	// the user object
	{
		// the user key
		key: "check@permit.io",
		// just-in-time attributes on the user
		attributes: {
			location: "England",
			department: "Engineering",
		},
	},
	// the action the user is trying to do
	"action",
	// Resource
	{
		// the type of the resource (the resource key)
		type: "resource",
		// just-in-time attributes on the resource
		attributes: {
			hasApproval: "true",
		},
		// the tenant the resource belong to isn't required and
        // will be ignored if provided
	}
);
```

:::note

Enforcing with relationships ( ReBAC ) is not supported for Any Tenant Check.
This is because the relationships check is performed on a resource instance, which is always scoped to a single Tenant.
The output will always be an empty array if it isn't allowed in the scoped Tenant and
an array with a single element if it is allowed, and therefore it is better to use simple check for better performance.

:::

:::warning

When using [PDP Sharding](/concepts/pdp-sharding), the Any Tenant Check operation will not work properly.
This is because the Any Tenant Check operation is executed on a single PDP instance,
which has the data for a subset of the tenants in the environment and not for all of them.

:::