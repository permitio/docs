---
title: LangFlow Access Control
---

Langflow’s access control components integrate with Permit.io to enforce authentication and authorization within AI-driven workflows.

In the following guide, we will walk you through the key access control components available in Langflow and how they contribute to securing AI workflows.


Permit.io Langflow integration incorporate the following components:

- **JWT Validator** - authenticate users using JSON Web Tokens.
- **Permissions Check Component** - enforce authorization policies within workflows.
- **Data Protection Component** - restricte access to sensitive data.

These components allow users to define and enforce access control policies dynamically by leveraging the configuration, input, and output parameters.
By using these components together, developers can model complex access control scenarios that ensure AI applications adhere to security and compliance requirements.

## Setup

### Setup Permit.io Account with the Desired Policies

Create a Permit.io account and define access control policies for your application.

Here's an example of a flight booking access control policy configuration. You can read more on this example here: [TBD](https://www.permit.io)

### 2. Get the Token and Run the PDP

#### How to Get the Permit Token

1. Log in to your Permit.io account.
2. Navigate to [https://app.permit.io/settings/api-keys](https://app.permit.io/settings/api-keys)
3. Find the environment you want to work with, get the API key for it

#### The Command to Run the PDP

Once you have your token, start the Policy Decision Point (PDP) with the following command:

```bash
docker run -d -p 7766:7766 --name permit-pdp -e PERMIT_API_KEY="your_api_key" permitio/pdp
```

Replace `your_api_key` with the API key obtained from the Permit.io dashboard.

### 3. Install the Permit-Langflow Package in Your Langflow Project

Ensure Langflow is installed and then add the Permit.io integration:

```bash
pip install langflow-permit
```

### 4. Set the Secrets in the Environment

Configure your Permit.io API key and PDP URL as environment variables:

```bash
export PERMIT_API_KEY="your_api_key"
export PERMIT_PDP_URL="https://your-permit-instance.com"
```

### 5. Run Langflow and View the Components

Start Langflow and verify that the access control components are properly integrated.

[TBD screenshot]

## JWT Validator Component

The JWT Validator component authenticates users by verifying JSON Web Tokens (JWT). 
The component  uses JWKs-based validation to check token signatures, expiration, and issuer validity.
Then, caches keys to optimize performance.

### 1. Configure the Component

- **JWKs URL**: Specifies the endpoint from which public keys are retrieved. Example: `https://example.com/.well-known/jwks.json`.
- **Algorithm**: Defaults to RS256 but can be configured to match your security requirements.

### 2. Set the Inputs

- **JWT Token**: The token to be validated. Example: A user logs in, and their authentication token is passed for verification.

### 3. Use the Output

- **User ID**: Extracted from the token’s `sub` claim. Example: The validated user ID is used to determine access permissions.

## Permissions Check Component

The Permissions Check component verifies whether a user has permission to perform an action on a resource. It integrates with Permit.io’s PDP to enforce fine-grained access control.

[TBD screenshot]

### 1. Configure the Component

- **PDP URL**: The endpoint for policy evaluations. Example: `https://permit-instance.com/pdp`.
- **API Key**: Required for authentication with Permit.io.

### 2. Set the Inputs

- **User ID**: Identifier of the user. Example: Checking if `user_123` has access.
- **Action**: The action being performed (e.g., `read`, `write`). Example: Ensuring a user can `write` to a document.
- **Resource**: The resource being accessed. Example: `document_456`.
- **Tenant** (optional): Used for multi-tenant authorization.

### 3. Use the Output

- **Allowed**: Boolean indicating whether the action is permitted. Example: `True` allows access, `False` denies it.

## Data Protection Component

The Data Protection component retrieves and filters resources based on user permissions. It is designed to control access to retrieval-augmented generation (RAG) data in AI workflows.

[TBD screenshot]

### 1. Configure the Component

- **PDP URL**: Required for policy enforcement.
- **API Key**: Used for authentication.

### 2. Set the Inputs

- **User ID**: The user requesting access. Example: `user_789` attempting to retrieve data.
- **Action**: The action being performed. Example: `read`.
- **Resource Type**: The type of resource being accessed. Example: `financial_report`.
- **Filter IDs** (optional): Specific resource IDs to filter. Example: Restricting results to documents within a department.

### 3. Use the Output

- **Allowed IDs**: A list of permitted resource IDs. Example: Returning only the reports a user is authorized to access.

## Langflow and the Four-Perimeter Framework

Langflow’s access control components align with Permit.io’s Four-Perimeter Framework for AI access control:

1. **Prompt Filtering**: The JWT Validator ensures that only authenticated users can interact with the system, while the Permissions Check component enables fine-grained authorization of the prompt attribution.
2. **RAG Data Protection**: The Data Protection component restricts AI access to authorized knowledge sources.
3. **Secure External Access**: The Permissions Check component enforces security on API calls and system integrations.
4. **Response Enforcement**: The Permissions Check component is used to validate AI-generated responses, ensuring they comply with policy constraints. Unauthorized or sensitive content can be modified or blocked before being delivered.

By integrating Langflow with Permit.io, organizations can enforce structured security policies across AI workflows, ensuring controlled and auditable interactions.